{"ast":null,"code":"import _objectSpread from\"/home/alex/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/GithubPortfolio/ManolaPro.github.io/twitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/alex/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/GithubPortfolio/ManolaPro.github.io/twitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/alex/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/GithubPortfolio/ManolaPro.github.io/twitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alex/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/GithubPortfolio/ManolaPro.github.io/twitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/alex/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/GithubPortfolio/ManolaPro.github.io/twitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/alex/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/GithubPortfolio/ManolaPro.github.io/twitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/alex/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/GithubPortfolio/ManolaPro.github.io/twitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import AppHeader from'../app-header';import SearchPanel from'../search-panel';import PostStatusFilter from'../post-status-filter';import PostList from'../post-list';import PostAddForm from'../post-add-form';import'./app.css';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={data:[{label:'Сейчас я изучаю библиотеку на основе JavaScript -React',important:false,like:false,id:1},{label:'I need a breack',important:true,like:false,id:2},{label:'I need a work',important:false,like:false,id:3}],term:'',filter:'All'};_this.deleteItem=_this.deleteItem.bind(_assertThisInitialized(_this));_this.addItem=_this.addItem.bind(_assertThisInitialized(_this));_this.onImportant=_this.onImportant.bind(_assertThisInitialized(_this));_this.onLike=_this.onLike.bind(_assertThisInitialized(_this));_this.onSearchChange=_this.onSearchChange.bind(_assertThisInitialized(_this));_this.onFilterSelect=_this.onFilterSelect.bind(_assertThisInitialized(_this));_this.maxId=4;return _this;}_createClass(App,[{key:\"deleteItem\",value:function deleteItem(id){this.setState(function(_ref){var data=_ref.data;var index=data.findIndex(function(elem){return elem.id===id;});var before=data.slice(0,index);var after=data.slice(index+1);var newArray=[].concat(_toConsumableArray(before),_toConsumableArray(after));return{data:newArray};});}},{key:\"addItem\",value:function addItem(body){var newItem={label:body,important:false,id:this.maxId++};this.setState(function(_ref2){var data=_ref2.data;var newArray=[].concat(_toConsumableArray(data),[newItem]);return{data:newArray};});}},{key:\"onImportant\",value:function onImportant(id){this.setState(function(_ref3){var data=_ref3.data;var index=data.findIndex(function(elem){return elem.id===id;});var old=data[index];var newItem=_objectSpread(_objectSpread({},old),{},{important:!old.important});var newArray=[].concat(_toConsumableArray(data.slice(0,index)),[newItem],_toConsumableArray(data.slice(index+1)));return{data:newArray};});}},{key:\"onLike\",value:function onLike(id){this.setState(function(_ref4){var data=_ref4.data;var index=data.findIndex(function(elem){return elem.id===id;});var old=data[index];var newItem=_objectSpread(_objectSpread({},old),{},{like:!old.like});var newArray=[].concat(_toConsumableArray(data.slice(0,index)),[newItem],_toConsumableArray(data.slice(index+1)));return{data:newArray};});}},{key:\"searchPost\",value:function searchPost(items,term){if(term.length===0){return items;}return items.filter(function(item){return item.label.indexOf(term)>-1;});}},{key:\"onSearchChange\",value:function onSearchChange(term){this.setState({term:term});}},{key:\"searchFilter\",value:function searchFilter(items,filter){if(filter===\"like\"){return items.filter(function(item){return item.like;});}else{return items;}}},{key:\"onFilterSelect\",value:function onFilterSelect(filter){this.setState({filter:filter});}},{key:\"render\",value:function render(){var _this$state=this.state,data=_this$state.data,term=_this$state.term,filter=_this$state.filter;var liked=data.filter(function(item){return item.like;}).length;var allPosts=data.length;var visiblePosts=this.searchFilter(this.searchPost(data,term),filter);return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(AppHeader,{liked:liked,allPosts:allPosts}),/*#__PURE__*/React.createElement(\"div\",{className:\"search-panel d-flex\"},/*#__PURE__*/React.createElement(SearchPanel,{onSearchChange:this.onSearchChange}),/*#__PURE__*/React.createElement(PostStatusFilter,{filter:filter,onFilterSelect:this.onFilterSelect})),/*#__PURE__*/React.createElement(PostList,{post:visiblePosts,onDelete:this.deleteItem,onImportant:this.onImportant,onLike:this.onLike}),/*#__PURE__*/React.createElement(PostAddForm,{onAdd:this.addItem}));}}]);return App;}(Component);export{App as default};","map":{"version":3,"sources":["/home/alex/Рабочий стол/GithubPortfolio/ManolaPro.github.io/twitter/src/components/app/app.js"],"names":["React","Component","AppHeader","SearchPanel","PostStatusFilter","PostList","PostAddForm","App","props","state","data","label","important","like","id","term","filter","deleteItem","bind","addItem","onImportant","onLike","onSearchChange","onFilterSelect","maxId","setState","index","findIndex","elem","before","slice","after","newArray","body","newItem","old","items","length","item","indexOf","liked","allPosts","visiblePosts","searchFilter","searchPost"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport AppHeader from '../app-header';\nimport SearchPanel from '../search-panel';\nimport PostStatusFilter from '../post-status-filter';\nimport PostList from '../post-list';\nimport PostAddForm from '../post-add-form';\n\nimport './app.css';\n\nexport default class App extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            data : [\n                {label:'Сейчас я изучаю библиотеку на основе JavaScript -React', important :false, like:false , id:1},\n                {label:'I need a breack', important :true , like:false, id:2},\n                {label:'I need a work', important :false , like:false, id:3},\n            ],\n            term: '',\n            filter: 'All'\n        }\n        this.deleteItem = this.deleteItem.bind(this);\n        this.addItem = this.addItem.bind(this);\n        this.onImportant = this.onImportant.bind(this);\n        this.onLike = this.onLike.bind(this);\n        this.onSearchChange = this.onSearchChange.bind(this);\n        this.onFilterSelect = this.onFilterSelect.bind(this);\n\n        this.maxId = 4;\n    }\n\n    deleteItem(id) {\n        this.setState(({data}) => {\n            const index = data.findIndex(elem => elem.id === id);\n            \n            const before = data.slice(0, index);\n            const after = data.slice(index + 1);\n\n            const newArray = [...before, ...after];\n\n            return {\n                data: newArray\n            }\n                \n            \n\n        });\n    }\n\n    addItem(body) {\n        const newItem = {\n            label: body,\n            important: false,\n            id: this.maxId ++\n        }\n\n        this.setState(({data}) => {\n            const newArray = [...data, newItem]\n            return {\n                data: newArray\n            }\n        \n        })\n\n        \n    }\n\n    onImportant(id) {\n        this.setState(({data}) => {\n            const index = data.findIndex(elem => elem.id === id);\n\n            const old = data[index];\n\n            const newItem = {...old, important: !old.important};\n\n            const newArray = [...data.slice(0, index), newItem, ...data.slice(index + 1)];\n\n            return {\n                data: newArray\n            }\n        })\n    }\n\n    onLike(id) {\n        this.setState(({data}) => {\n            const index = data.findIndex(elem => elem.id === id);\n\n            const old = data[index];\n\n            const newItem = {...old, like: !old.like};\n\n            const newArray = [...data.slice(0, index), newItem, ...data.slice(index + 1)];\n\n            return {\n                data: newArray\n            }\n        })\n    }\n    \n    searchPost(items, term) {\n        if (term.length === 0) {\n            return items\n        }\n        return items.filter((item) => {\n            return item.label.indexOf(term) > -1\n        });\n    }\n\n    onSearchChange(term){\n        this.setState({term});\n    }\n\n    searchFilter(items, filter) {\n        if (filter === \"like\") {\n            return items.filter( item => item.like)\n        } else {\n            return items\n        }\n    }\n\n    onFilterSelect(filter) {\n        this.setState({filter});\n    }\n\n    render(){\n        const {data, term, filter} = this.state;\n        const liked = data.filter(item => item.like).length;\n        const allPosts = data.length;\n        const visiblePosts = this.searchFilter(this.searchPost(data, term), filter);\n\n        return(\n            <div className='app'>\n            <AppHeader\n                liked={liked}\n                allPosts={allPosts}/>\n            <div className='search-panel d-flex'>\n                <SearchPanel\n                    onSearchChange={this.onSearchChange}/>\n                <PostStatusFilter\n                    filter={filter}\n                    onFilterSelect={this.onFilterSelect}/>\n            </div>\n            \n            <PostList \n                post={visiblePosts}\n                onDelete={this.deleteItem}\n                onImportant={this.onImportant}\n                onLike={this.onLike}/>\n            <PostAddForm\n                onAdd={this.addItem}/>\n            </div>\n        )\n    }\n    \n}\n"]},"metadata":{},"sourceType":"module"}